<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Bullet & Missile Fire Game</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
        background: #111;
      }

      .side {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 20px;
        align-items: center;
      }

      .left {
        left: 20px;
      }

      .right {
        right: 20px;
      }

      .side img {
        width: 80px;
        height: auto;
        cursor: pointer;
        user-select: none;
      }

      .projectile {
        position: absolute;
        width: 50px;
        height: auto;
        z-index: 999;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Bullet animation */
      @keyframes fireBulletRight {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(100vw);
        }
      }

      @keyframes fireBulletLeft {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-100vw);
        }
      }

      /* Missile animation */
      @keyframes fireMissileLeft {
        0% {
          transform: translate(0, 0);
        }
        25% {
          transform: translate(25vw, -20px);
        }
        50% {
          transform: translate(50vw, 20px);
        }
        75% {
          transform: translate(75vw, -20px);
        }
        100% {
          transform: translate(100vw, 0);
        }
      }

      @keyframes fireMissileRight {
        0% {
          transform: translate(0, 0);
        }
        25% {
          transform: translate(-25vw, -20px);
        }
        50% {
          transform: translate(-50vw, 20px);
        }
        75% {
          transform: translate(-75vw, -20px);
        }
        100% {
          transform: translate(-100vw, 0);
        }
      }
    </style>
  </head>
  <body>
    <div class="side left">
      <img
        src="./images/soldier_gun.png"
        onclick="fire('left', 'bullet')"
        alt="Left Gunner"
      />
      <img
        src="./images/soldier_missile.png"
        onclick="fire('left', 'missile')"
        alt="Left Rocket"
        style="transform: scaleX(-1)"
      />
      <img
        src="./images/soldier_gun.png"
        onclick="fire('left', 'bullet')"
        alt="Left Gunner 2"
      />
    </div>

    <div class="side right">
      <img
        src="./images/soldier_missile.png"
        onclick="fire('right', 'missile')"
        alt="Right Rocket"
      />
      <img
        src="./images/soldier_gun.png"
        onclick="fire('right', 'bullet')"
        style="transform: scaleX(-1)"
        alt="Right Gunner"
      />
      <img
        src="./images/soldier_missile.png"
        onclick="fire('right', 'missile')"
        alt="Right Rocket 2"
      />
    </div>

    <script>
      function fire(side, type) {
        const wrapper = document.createElement("div");
        const img = document.createElement("img");

        wrapper.classList.add("projectile");

        if (type === "bullet") {
          img.src = "./images/bullet.png";
          wrapper.style.width = "40px";
        } else {
          img.src = "./images/missile.png";
          wrapper.style.width = "100px";
        }

        img.style.width = "100%";
        img.style.height = "auto";

        // Set vertical position
        const y = Math.random() * (window.innerHeight - 50);
        wrapper.style.top = `${y}px`;

        // Set horizontal starting position
        wrapper.style.left =
          side === "left" ? "100px" : window.innerWidth - 100 + "px";

        // Flip image if from right
        if (side === "right") {
          img.style.transform = "scaleX(-1)";
        }

        wrapper.appendChild(img);

        // Animate
        if (type === "bullet") {
          wrapper.style.animation =
            side === "left"
              ? "fireBulletRight 2s linear forwards"
              : "fireBulletLeft 2s linear forwards";
        } else {
          wrapper.style.animation =
            side === "left"
              ? "fireMissileLeft 2s linear forwards"
              : "fireMissileRight 2s linear forwards";
        }

        document.body.appendChild(wrapper);

        setTimeout(() => wrapper.remove(), 2200);
      }
    </script>
  </body>
</html>
